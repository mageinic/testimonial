<?php
/**
 * MageINIC
 * Copyright (C) 2023 MageINIC <support@mageinic.com>
 *
 * NOTICE OF LICENSE
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see https://opensource.org/licenses/gpl-3.0.html.
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category MageINIC
 * @package MageINIC_Testimonial
 * @copyright Copyright (c) 2023 MageINIC (https://www.mageinic.com/)
 * @license https://opensource.org/licenses/gpl-3.0.html GNU General Public License,version 3 (GPL-3.0)
 * @author MageINIC <support@mageinic.com>
 */

use MageINIC\Testimonial\Block\Adminhtml\Notifications\Testimonial;
use Magento\Framework\Escaper;

/**
 * @var Testimonial $block
 * @var Escaper $escaper
 */
?>
<?php if ($block->countPending() > 0): ?>
    <script>
        require([
            'jquery'
        ], function ($) {
            var html = '<span class="notifications-counter"><?= $escaper->escapeHtml($block->countPending()) ?></span>'
            $('.item-manage-testimonial>a,.item-core>a').append(html);
        });
    </script>
    <style>
        .admin__menu .item-manage-testimonial > a,
        .admin__menu .item-core > a {
            position: relative;
        }

        .admin__menu .item-manage-testimonial > a:before {
            content: '\e607';
            font-family: 'Admin Icons';
            float: right;
            font-size: 1.8rem;
        }

        .admin__menu .item-manage-testimonial > a .notifications-counter,
        .admin__menu .item-core > a .notifications-counter {
            background-color: #e22626;
            border-radius: 1em;
            color: #ffffff;
            display: inline-block;
            font-size: 1.1rem;
            font-weight: 700;
            right: 3%;
            margin-left: .3em;
            margin-top: -2.1em;
            padding: .3em .5em;
            position: absolute;
            top: 60%;
            height: 18px;
        }
    </style>
<?php endif; ?>
